# ImmediateTestFeedback

This repo serves as the starting point for installing and
tweaking the `ImmediateTestFeedback` Prototype build inside
the PLCTE seminar at the software architecture chair of the Hasso-Plattner-Institute.

# Introduction
Changing software without correctly understanding it often leads to confusion, as developers do not understand how the change corresponds to the new observed behaviour of the system.
Today, many software systems are equipped with a test suite.
Test suites document code and give feedback on changed program behaviour.
We explored ways to use test suites for software comprehension. We implemented a tool that provides additional visualization and gives immediate feedback on software changes.
Information about changes in the software and their implications to the test suite are collected using mutation testing. The tool uses this information to present relevant test cases for developers, and additionally prioritize test executions for immediate feedback.

This system uses mutation testing data to present relevant test cases for developers and additionally prioritize test executions for immediate feedback.

# Setting Up The Prototype
The prototype system consists of several parts:
* [TestingPlugin](https://github.com/XPerianer/TestingPlugin) - The plugin that integrates and visualizes tests into Visual Studio Code
* [TestingBackend](https://github.com/XPerianer/TestingBackend) - The backend that provides the plugin with the necessary information.
* [pytest-immediate](https://github.com/XPerianer/pytest-immediate/) - The plugin for pytest that enables immediate response times for failing tests and test reordering

## Datasets
The relevancy data, as well as the prediction model for predicting failing tests can be customized for the use case.
For the installation steps, we will use the standard data which is already included in the TestingBackend repo. TODO: Link to how to generate custom data


## Installation Steps
1.  Clone the repository you want to get immediate test feedback during development.
    Examplatory, we will use flask
    ```
    git clone https://github.com/pallets/flask.git
    ```
1. Clone this repository including all submodules.
    ```
    git clone --recurse-submodules https://github.com/XPerianer/ImmediateTestFeedback
    ```
1.  Install and start the Backend:
    ```
    cd TestingBackend
    ```
    and follow the instructions [in the TestingBackend repository](https://github.com/XPerianer/TestingBackend)
1.  Install and start the Frontend:
    ```
    cd TestingPlugin
    ```
    and follow the instructions [in the TestingPlugin repository](https://github.com/XPerianer/TestingPlugin)

## Using Custom Datasets
There are two different datasets needed for the prototype:
*   The mutation testing dataset
*   The Prediction Model

### The Mutation Testing Dataset
The mutation testing dataset can be generated by [Mutester](https://github.com/XPerianer/Mutester). The Mutester repo also has additional information on setup requirements and optional parameters.

Based on the mutation testing dataset the prediction model is generated, that can be loaded by the TestingBackend.
This gives the possibility to quickly try out different predictor models.
It also enables use other embeddings than TSNE for the visualization of tests.


### The Predictor Model
Given the mutation testing dataset the necessary files can be generated by using the [preprocessing jupyter notebook](preprocessing.ipynb).
Its dependencies can be installed in a virtual environment with these commands:
    ```
    python -m venv venv
    . venv/bin/activate
    pip install -r requirements.txt
    ```
Now the notebook can be run
    ```
    jupyter notebook preprocess.ipynb
    ```
Follow it to create the necessary files, that can then be inserted into the TestingBackend.

